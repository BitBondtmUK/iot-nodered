<!--
  Copyright 2014 IBM Corp.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<script type="text/x-red" data-template-name="iot-client-qs-in">
    <div class="form-row">
        <label for="node-input-type11" style="width:130px;"><i class="icon-tag"></i> Input Type</label>
		<select id="node-input-type1"  style="width:300px;">
			<option value="evt">Device Event</option>
			<option value="devsts">Device Status</option>
			<option value="appsts">Application Status</option>
		</select>
    </div>
	<div class="form-row">
        <label for="node-input-mac1" id="node-input-mac2" style="width:130px;"><i class="icon-tasks"></i> MAC Address</label>
        <input type="text" id="node-input-mac" placeholder="e.g. AB12CD231A21" style="width:300px;">
    </div>
    <div class="form-row">
        <label for="node-input-name" style="width:130px;"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="iot-client-qs-in" style="width:300px;">
    </div>
    <div class="form-tips">
		<b>Note:</b> Quickstart flow does not allow Device Commands to be sent to the Device or App.<br/>
	</div>
    <script>

        $("#node-input-type1").change(function() {
			var id = $("#node-input-type1 option:selected").val();
            if (id == "evt") {
				document.getElementById('node-input-mac2').innerHTML='<i class="icon-tasks"></i>MAC address';
			}
            else if (id == "devsts"){
				document.getElementById('node-input-mac2').innerHTML='<i class="icon-tasks"></i>MAC address';
			} else if (id == "appsts") {
				document.getElementById('node-input-mac2').innerHTML='<i class="icon-tasks"></i>App Id';
			}
		});
    </script>

</script>

<script type="text/x-red" data-help-name="iot-client-qs-in">
   <p>IoT input node to receive events sent from devices, receive status updates of devices or receive status updates of applications.</p>
   <p>Quickstart flow does not allow Device Commands to be sent to the Device or App.</p>
</script>

<script type="text/x-red" data-template-name="iot-client-qs-out">

<!--
    <div class="form-row">
        <label for="node-input-type1" style="width:130px;"><i class="icon-tag"></i> Input Type</label>
		<select id="node-input-type1"  style="width:300px;">
			<option value="evt">Device Event</option>
			<option value="status">Device Status</option>
			<option value="mon">Application Status</option>
		</select>
    </div>
-->
	<div class="form-row">
        <label for="node-input-mac" style="width:130px;"><i class="icon-tasks"></i> MAC address</label>
        <input type="text" id="node-input-mac" placeholder="MAC Address e.g. ab12cd231a21" style="width:300px;">
    </div>

	<div class="form-row">
        <label for="node-input-event" style="width:130px;"><i class="icon-tasks"></i> Event</label>
        <input type="text" id="node-input-event" placeholder="event format e.g. blink" style="width:300px;">
    </div>

	<div class="form-row">
        <label for="node-input-name" style="width:130px;"><i class="icon-envelope"></i> Data</label>
        <input type="text" id="node-input-data" placeholder="payload information e.g. data points" style="width:300px;">
    </div>

	<div class="form-row">
        <label for="node-input-name" style="width:130px;"><i class="icon-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="iot-client-qs-out" style="width:300px;">
    </div>

    <div class="form-tips">
		<b>Note:</b> If "MAC address", "Event" and "Data" are not passed from backend, the values given above would be considered.<br/>
		<b>Data Example:</b>{"d":{"myName":"Arduino Uno", "temperature":989}}
	</div>
</script>

<script type="text/x-red" data-help-name="iot-client-qs-out">
   <p>IoT output node to send an event on the behalf of a device.</p>
   <p><b>Note:</b> If "MAC address", "Event" and "Data" are not passed from backend, the values given above would be considered.</p>
   <p>To override the default values given above, use the following properties
   <p>For <b>MAC Address</b>, use msg.id, for e.g. msg.id = '00aabbccde03'</p>
   <p>For <b>Data</b>, use msg.payload, for e.g. msg.payload = '{"d":{"myName":"Arduino Uno", "temperature":989}'</p>
   <p>For <b>Event</b>, use msg.eventCommandType, for e.g. msg.eventCommandType = 'blink'</p>
</script>


<script type="text/javascript">
    (function(){
        RED.nodes.registerType('iot-client-qs-in',{
            category: 'input',
            color:"rgb(255, 165, 0)",
            defaults: {
                name: { value:"IoT Client QS App In" },
				mac: {value:""},
				type1: {}
            },
            inputs:0,
            outputs:1,
            icon: "iotcloud-icon.png",
            label: function() {
                return this.name || "iot-client-qs-in";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            }
        });

        RED.nodes.registerType('iot-client-qs-out',{
            category: 'output',
            color:"rgb(255, 165, 0)",
            defaults: {
                name: { value:"IoT Client QS App Out" },
				data: {value:"", required:true},
				mac: {value:"", required:true},
				event: {value:"", required:true}
            },
            inputs:1,
            outputs:0,
            icon: "iotcloud-icon.png",
            align: "right",
            label: function() {
                return this.name || "iot-client-qs-out";
            },
            labelStyle: function() {
                return this.name ? "node_label_italic" : "";
            }
        });
    }());
</script>

